Budgeting app Test
=======================

Sample test project automating _Budgeting App_ page. 

_This project was based on [Selenium-Maven-Template](https://github.com/Ardesco/Selenium-Maven-Template) and support for CucumberJVM was added_

## How to run
### Execution options
 1. One "Runner" class per thread (use profile `parallel`). By "Runner" class is meant *RunCukesCheeseTest* class in this example.
    * **NOTE** - in order to use this approach, you will need to create separate "runner" class per one thread. Tests belonging to one "runner" class will be executed sequentially.
    * More on this read [here](https://opencredo.com/running-cucumber-jvm-tests-in-parallel/).
 2. Using [cucumber-jvm-parallel-plugin](https://github.com/temyers/cucumber-jvm-parallel-plugin) (use profile `parallelPlugin`)
    * *cucumber-jvm-parallel-plugin* will automatically generates "runner" classes.
    * More on this read [here](http://automationrhapsody.com/running-cucumber-tests-in-parallel/).
### Command for execution
```
mvn clean verify -P [nogrid OR grid],[parallel OR parallelPlugin] -Dthreads=[number of parallel threads]
```

* *parallel* - when using separate "runner" class per one thread
* *parallelPlugin* - uses cucumber-jvm-parallel-plugin. Automatically creates separate "runner" class per one thread
* *nogrid* - execute tests locally
* *grid* - execute tests on Selenium Grid. Grid Hub can be set in pom by using `seleniumGridUrl` property or in ApplicationProperties file 
* Thread count can be set via `-Dthreads` argument

For example, invoking 
```
mvn clean verify -P parallelPlugin,nogrid -Dthreads=3 -Dbrowser=chrome
``` 
will execute tests in parallel 3 threads on local machine and using *cucumber-jvm-parallel-plugin* plugin. In addition, `-Dbrowser` setting will set browser to Chrome.

## Configuration
Following settings can be changed in `lv.vsikhvart.cucumber.config.ApplicationProperties.java` or overwritten by from command line by providing `-D{configuration key}={value}` 

| Configuration key     | Description                                                       |
|-----------------------|----------------------|
| *env*   | environment name |
| *appUrl*       | AUT URL                 |
| *browser*     | Browser to use. Available options - `chrome, firefox, safari, edge, ie, chrome_headless, firefox_headless`                  |
| *proxyEnabled*    | is proxy enabled for Selenium (boolean) |
| *proxyHost* | proxy host                     |
| *proxyPort* | proxy port                    |
| *remoteDriver*  | should tests be executed on Selenium Grid (boolean)                       |
| *seleniumGridRetries* | RemoteWebdriver initialization retry count                |
| *seleniumGridUrl*     | Selenium Grid Hub URL                 |
| *waitShortSeconds*    | timeout for explicit wait - shortest timeout |
| *waitNormalSeconds* | timeout for explicit wait - average timeout                     |
| *waitLongSeconds* | timeout for explicit wait - longest timeout                      |

### Driver Download
This project uses [webdrivermanager](https://github.com/bonigarcia/webdrivermanager) tool in order to automate the Selenium browser drivers management in runtime. It will **automatically** download all needed driver to your local PC if needed with specified version.

### Reporting
Reports are generated by [maven-cucumber-reporting](https://github.com/damianszczepanik/maven-cucumber-reporting) plugin and can be found under *target/site/cucumber-reports/cucumber-html-reports*

### Test Plan
1. Budgeting App 

- Open Budgeting App web page
- Check navigation Menu
- Tabs Budget and and Reports should be visible and clickable
- Right top corner should have 3 links. 2 on Github and 1 on moduscreate.com
- Click on Budget Tab
- BudgetGrid table should be visible and contain data
- Balance Tab should be visible and contain data
- Click on Reports Tab
- 2 Tabs should be visible with graphics
- 1st Tab name: Inflow vs Outflow
- 2nd Tab name: Spending by Category

2. Budgeting App - Budget Tab

- Click on Budget Tab
- BudgetGrid table should be visible and contain data
- 3 Columns should be visible in BudgetGrid
- Columns name: Category, Description, Amount
- 3 Fields should be visible and clickable
- Fields name: Category selector, Description, Amount
- Button Add should be visible but disabled
- Choose from Category selector Income.
- Enter any text as description
- Enter any value like "1"
- Button "ADD" should be active

- Remove Value from the field
- Button "ADD" should be disabled

- Choose Income Category name
- Add text "Test" in Description
- Enter 10 in the Value field
- Click on "ADD" button
- New data should appear in table with correct category name, description and amount (positive +)
- Total inflow should be changed as well and get bigger for the entered amount

- Choose Travel Category name
- Add text "Test" in Description
- Enter 10 in the Value field
- Click on "ADD" button
- New data should appear in table with correct category name, description and amount (negative -)
- Total Outflow should be changed as well and get bigger for the entered amount

3. Budgeting App - Reports Tab
- Click on Reports Tab
- 2 Tabs should be visible with graphics
- 1st Tab name: Inflow vs Outflow
- 2nd Tab name: Spending by Category

- 1st Tab name: Inflow vs Outflow
- Shown most spent on Outflow
- Inflow column should have the same amount what is shown on Budget Tab
- Outflow column should have the same amount what is shown on Budget Tab
- Right side near Outflow Column shown Outflow data

- 2nd Tab name: Spending by Category
- Shown most spent on categories
